<!DOCTYPE html> <html lang="ko"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> proxy lab - 세상은 문자열 파싱으로 돌아간다 | 이정훈 </title> <meta name="author" content="이정훈 "> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?v=a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?v=f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?v=62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?v=591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%93%9D&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?v=d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://jeongns.github.io/blog/2025/proxy-lab-%EC%84%B8%EC%83%81%EC%9D%80-%EB%AC%B8%EC%9E%90%EC%97%B4-%ED%8C%8C%EC%8B%B1%EC%9C%BC%EB%A1%9C-%EB%8F%8C%EC%95%84%EA%B0%84%EB%8B%A4/"> <script src="/assets/js/theme.js?v=48c9b5bd7f2e0605e39e579400e22553"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?v=5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">이정훈</span> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">proxy lab - 세상은 문자열 파싱으로 돌아간다</h1> <p class="post-meta"> Created on November 05, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/category/%ED%81%AC%EB%9E%98%ED%94%84%ED%86%A4"> <i class="fa-solid fa-tag fa-sm"></i> 크래프톤</a>   <a href="/blog/category/%EC%A0%95%EA%B8%80"> <i class="fa-solid fa-tag fa-sm"></i> 정글</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="세상은-문자열-파싱으로-돌아간다">세상은 문자열 파싱으로 돌아간다.</h2> <p>이번 proxy lab을 하며 가장 크게 느낀 부분이 이 제목이다. 평소 인터넷을 접속할 때나 spring, node등을 사용하여 웹 서버를 열었을 때 어떻게 통신을 했는지 관심을 크게 가지지 않았다. 그저 주고 받고 하는거구나 하고 생각을 했다. 이번에 proxy lab을 통해 직접 소켓 통신을 구현하면서 어떤걸 주고 받는지 모든걸 명시하는 것이 신기했다. 무슨 통신을 하는지, 무슨 버전인지, 등등 많은 정보들이 헤더에 담겨가고 그것을 받는 쪽도 일일이 헤더를 파싱하며 데이터를 읽는다.<br> 이번에는 proxy lab을 하며 느낀 부분들을 적어보려한다.</p> <h2 id="소켓도-파일이에요">소켓도 파일이에요</h2> <p>소켓은 프로세스 간 네트워크 I/O 엔드 포인트이다. 네트워크 통신의 양 끝단에 있는 것이 소켓이다. 프로세스 간 통신을 파일 I/O처럼 단일 인터페이스로 추상화 한것이 소켓의 시작이다. 그 덕분에 우리는 소켓을 open, write, read와 같은 I/O작업 처럼 사용할 수 있다. 이번 소켓 연결을 하면서 가장 신기한건 우리가 디스크를 읽는거와 소켓 통신을 하는게 차이가 없다는 것이다. 이것이 추상화의 힘인가 싶다.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blog/file-meme-480.webp 480w,/assets/img/blog/file-meme-800.webp 800w,/assets/img/blog/file-meme-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/blog/file-meme.png" class="w-50" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">결국은 다 파일이었어…!</figcaption> </figure> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">connfd</span> <span class="o">=</span> <span class="n">Accept</span><span class="p">(</span><span class="n">proxyfd</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
</code></pre></div></div> <p>소켓 통신을 보면 파일 디스크럽터를 통해 입력을 받고 통신 또한 파일 디스크럽터를 통해 하는걸 볼 수 있다! 결국 모든게 다 파일인 것이다!<br> 이러한 소켓 통신을 기반으로 우리가 아는 웹 HTTP는 어떻게 통신하는지 알아보자</p> <h2 id="http와-문자열-파싱">HTTP와 문자열 파싱</h2> <p>대부분의 통신은 소켓을 통해 이루어 진다. 그러면 HTTP통신은 어떻게 이루어지는지 알아보자! TCP같은 통신 규격도 있지만 나는 재밌게 보았던 문자열 파싱 중심으로 말해보려한다.</p> <p>우리가 naver같은 서버를 접속하면 어떤 원리로 사이트를 띄워줄까? 그것은 HTTP규격에 따라 통신을 하기에 가능한일이다.</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">GET</span> <span class="o">/</span> <span class="n">HTTP</span><span class="o">/</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
<span class="o">&lt;</span><span class="n">header</span><span class="p">...</span><span class="o">&gt;</span>
</code></pre></div></div> <p>우리가 HTTP요청을 보내면 서버는 위와같은 헤더를 받게된다. GET요청으로 <code class="language-plaintext highlighter-rouge">/</code> 이라는 데이터를 요구한다! HTTP통신 버전은 1.0이라는 소리이다. 그러면 이 요청에따라 서버는 응답하면 되는 것이다. 컴퓨터가 이러한 글을 읽을 수 있는 이유는 하나하나 파싱을 하기 때문이다.</p> <div class="img-pair"> <figure class="img-pair__item"> <img src="/assets/img/blog/chrom-parse.png" alt="크로니움 파싱 코드"> <figcaption class="img-pair__caption">크로니움 파싱 코드</figcaption> </figure> <figure class="img-pair__item"> <img src="/assets/img/blog/tomcat-parse.png" alt="톰켓 서버 파싱 코드"> <figcaption class="img-pair__caption">톰켓 서버 파싱 코드</figcaption> </figure> </div> <p>크로니움, 톰켓 서버 코드에도 문자열을 파싱하는 코드가 있는걸 볼 수 있다.<br> 이렇게 헤더를 파싱하면 이후 작업은 간단하다 분기처리를 통해 클라이언트가 원하는 걸 주면된다 GET일때는 어떤걸 줄지, POST일때는, <code class="language-plaintext highlighter-rouge">/</code> 로 들어오면, <code class="language-plaintext highlighter-rouge">/abc.png</code> 같은 파일을 요청하면, 아니면 어떠한 실행파일의 결과를 요청하면! 이런걸 처리하여 클라이언트에게 주는 것이다.</p> <h2 id="컴퓨터는-글을-읽을-줄-모른다">컴퓨터는 글을 읽을 줄 모른다.</h2> <p>위에서 말했든 나는 다른 웹 프레임워크를 쓰며 어떻게 주소가 매핑되는지 관심이 없었다. 자석처럼 알아서 잘 매핑되는구나 생각했다. 하지만 직접 구현을 해보니 잘못된 생각이였음을 깨닳았다.</p> <p>결국 컴퓨터는 글을 읽을 줄 모르고 소켓으로 온 내용이 요청인지 아닌지도 구분하지 못한다. 우리가 통신을 하기 위해 규격을 세우고 그 내용대로 통신을 하기에 가능한 것이다. 규격대로 요청을 하고 규격대로 하나하나 파싱하고 분기 처리하여 결과를 돌려준다. 내부적인 코드를 보니 참 컴퓨터스럽다는 생각을 했다.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2026/%ED%81%AC%EB%9E%98%ED%94%84%ED%86%A4-%EC%A0%95%EA%B8%80-%EB%82%98%EB%A7%8C%EB%AC%B4-%ED%9A%8C%EA%B3%A0/">크래프톤 정글 나만무 회고</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/Pintos-fd-table-%EA%B5%AC%EC%A1%B0-%EA%B3%A0%EB%A5%B4%EA%B8%B0/">Pintos - fd table 구조 고르기</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/malloc-lab-%EC%82%BD%EC%A7%88%EC%9D%80-%EC%A6%90%EA%B1%B0%EC%9B%8C/">malloc lab - 삽질은 즐거워</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/%EC%89%AC%EC%A7%80%EC%95%8A%EB%8A%94-CPU,-Context-Switching%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC/">쉬지않는 CPU, Context Switching에 대하여</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/%EB%AF%B8%EB%8B%88-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%ED%9A%8C%EA%B3%A0%EB%A1%9D/">미니 프로젝트 회고록</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 이정훈 . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?v=a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?v=85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?v=2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?v=c15de51d4bb57887caa2c21988d97279"></script> <script defer src="/assets/js/copy_code.js?v=c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?v=d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?v=a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?v=2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?v=f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?v=a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?v=6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?v=6f508d74becd347268a7f822bca7309d"></script> </body> </html>